# 競馬オッズ計算ツール (keiba-calculator)

## プロジェクト概要
Next.js + React + TypeScriptで構築された競馬の馬券計算ツール。
馬券の点数・合計金額・回収率をリアルタイムで計算し、BOX・ながし・フォーメーションに対応。

## 技術スタック
- **Framework**: Next.js 14.2.35
- **UI**: React 18.3.1
- **Language**: TypeScript 5.9.3
- **Styling**: Tailwind CSS 4.1.18

## 開発環境のセットアップ

### 初回セットアップ
```bash
# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev
```

開発サーバーは http://localhost:3000 で起動します。

### モバイルデバイスでの開発

モバイル端末（スマートフォン・タブレット）から開発中のアプリにアクセスできます。

#### 前提条件
- PCとモバイル端末が同じネットワーク（Wi-Fi）に接続されていること
- PCのファイアウォールがポート3000への接続を許可していること

#### 手順

1. **PCのIPアドレスを確認**

   **Windowsの場合:**
   ```bash
   ipconfig
   ```
   「IPv4 アドレス」を確認（例: 192.168.1.100）

   **Mac/Linuxの場合:**
   ```bash
   ifconfig | grep "inet " | grep -v 127.0.0.1
   # または
   ip addr show | grep "inet " | grep -v 127.0.0.1
   ```
   表示されたIPアドレスを確認（例: 192.168.1.100）

2. **開発サーバーを起動**
   ```bash
   npm run dev
   ```
   
   以下のように表示されます：
   ```
   ▲ Next.js 14.2.35
   - Local:        http://localhost:3000
   - Network:      http://192.168.1.100:3000
   ```

3. **モバイル端末からアクセス**
   
   モバイル端末のブラウザで、表示された「Network」のURLにアクセスします。
   
   例: `http://192.168.1.100:3000`

#### トラブルシューティング

**モバイルからアクセスできない場合：**

1. **ファイアウォールの確認**
   - Windowsの場合：Windows Defenderファイアウォールで、Node.jsまたはポート3000への接続を許可
   - Macの場合：システム設定 > セキュリティとプライバシー > ファイアウォール で許可

2. **ネットワークの確認**
   - PCとモバイルが同じWi-Fiに接続されているか確認
   - 会社や学校のネットワークの場合、デバイス間通信が制限されている可能性があります

3. **開発サーバーの再起動**
   ```bash
   # Ctrl+C で停止後、再起動
   npm run dev
   ```

## ビルド・デプロイ

### 本番ビルド
```bash
npm run build
npm start
```

### 静的エクスポート
OGP画像がedge runtimeで動的生成されるため、完全な静的エクスポートには対応していません。

## 主要機能

- ✅ 全馬券種対応（単勝、複勝、応援馬券、枠連、馬連、ワイド、馬単、3連複、3連単）
- ✅ BOX/ながし/フォーメーション計算
- ✅ マルチ購入（ながし時の軸・相手入替）
- ✅ JRAオッズ一括転記（コピペ）
- ✅ 即PATデータ取り込み
- ✅ 返還処理
- ✅ レスポンシブUI（モバイル対応）
- ✅ ダークモード
- ✅ SEO対応
- ✅ 初心者向けガイド

## ライセンス
ISC

## 詳細ドキュメント
プロジェクトの詳細な仕様は `CLAUDE.md` を参照してください。
