# モバイル開発ワークフロー 📱

このリポジトリは、スマホ・タブレットだけで開発できるように最適化されています。

## 基本ワークフロー

### 開発サイクル（プレビュー環境）

```
編集 → コミット → プレビューデプロイ → 実機確認
  ⬇️        ⬇️          ⬇️              ⬇️
GitHub   GitHub      Vercel           あなたのスマホ
Web UI              (自動)        (プレビューURL)
```

### 本番反映（公開）

```
プレビューOK → PRマージ → 本番デプロイ
                  ⬇️            ⬇️
               GitHub        Vercel
                          (https://keiba-calculator.vercel.app/)
```

## クイック手順

### 1. ファイル編集（1分）

```
GitHubでファイルを開く
  ↓
✏️ アイコンをタップ
  ↓
コードを編集
  ↓
「Commit changes」をタップ
```

### 2. 自動デプロイ（30秒）

Vercelが自動的に：
- ビルド実行
- プレビューURL生成
- PRにコメント投稿

**何もしなくてOK！**

### 3. プレビュー確認（30秒）

```
PRページを開く
  ↓
Vercel botのコメントを探す
  ↓
「Visit Preview 👀」をタップ
  ↓
スマホ・タブレットで動作確認（プレビュー環境）
```

### 4. 本番反映（任意）

変更を一般公開する場合：

```
PRページで「Merge pull request」をタップ
  ↓
「Confirm merge」をタップ
  ↓
Vercelが自動的に本番デプロイ（30秒）
  ↓
https://keiba-calculator.vercel.app/ で確認
```

**合計所要時間：開発 約2分 / 本番反映 約1分**

---

## よくあるタスク

### 文字列を変更したい

1. ファイルを検索（`t` キー）
2. 該当ファイルを開く
3. ✏️ アイコンで編集
4. コミット

### 複数ファイルを編集したい

**方法A: github.dev**
```
リポジトリページで `.` キーを押す
  ↓
軽量VS Codeが起動
  ↓
複数ファイルを編集
  ↓
Source Controlからコミット
```

**方法B: 順番に編集**
```
ファイル1を編集 → コミット
ファイル2を編集 → コミット
（すべて同じPRにまとまる）
```

### スタイルを変更したい

```css
/* src/app/globals.css を編集 */

/* 例：プライマリカラーを変更 */
.light {
  --color-primary: #ff6b6b; /* 赤系に変更 */
}
```

コミット → Vercelデプロイ → 実機で色を確認

### UIコンポーネントを修正したい

```
src/components/calculator/ から該当ファイルを開く
  ↓
テキストやクラス名を編集
  ↓
コミット → デプロイ → 実機確認
```

---

## Tips

### 📱 分割画面で効率アップ

**タブレットの場合：**
- **左**: GitHub（編集）
- **右**: Vercelプレビュー（確認）

### 🔖 ブックマーク推奨

- リポジトリトップ
- よく編集するファイル
- Vercelダッシュボード
- 最新のプレビューURL

### ⚡ 高速開発のコツ

1. **小さく頻繁にコミット**
   - 1つの変更 = 1つのコミット
   - 失敗しても戻しやすい

2. **コミットメッセージを具体的に**
   - ❌ 「修正」
   - ✅ 「馬券種選択のラベルを修正」

3. **github.dev を活用**
   - URLの `github.com` → `github.dev` に変更
   - または `.` キー

### 🎯 モバイルUI確認のベストプラクティス

1. **実機で必ず確認**
   - Vercelプレビューを実機で開く
   - タップ操作を試す
   - スクロール動作を確認

2. **複数デバイスでテスト**
   - スマホ（縦・横）
   - タブレット（縦・横）
   - 可能なら複数OS（iOS/Android）

3. **パフォーマンスチェック**
   - 読み込み速度
   - アニメーションの滑らかさ
   - 入力のレスポンス

---

## トラブルシューティング

### デプロイが失敗する

**確認:**
- Actionsタブでエラーログをチェック
- Vercelダッシュボードでビルドログ確認

**よくある原因:**
- タイプミス（構文エラー）
- 閉じ括弧忘れ
- インポート文の誤り

**対処:**
- 変更をRevert
- エラーメッセージをよく読む
- 必要ならCodespacesで `npm run build` を試す

### プレビューが見つからない

**確認手順:**
1. PRは作成されている？
2. Vercelのチェックは完了？（✅）
3. Vercel botはコメントしている？

**代替アクセス:**
- Vercel ダッシュボード → Deployments → Visit

### 変更が反映されない

**プレビュー環境の場合:**
- 正しいプレビューURLを開いているか確認
- Vercelのデプロイが完了しているか確認（PRのチェックマーク）
- ブラウザのキャッシュをクリア

**本番環境の場合:**
- PRがマージされているか確認
- Vercelの本番デプロイが完了しているか確認
- 数分待ってから再確認
- 強制リロード（Shift + 更新）

### プレビューと本番の違いがわからない

**確認方法:**
- URLをチェック
  - プレビュー: `xxx-yyy.vercel.app`（ランダムな文字列）
  - 本番: `keiba-calculator.vercel.app`

**用途:**
- プレビュー: テスト用（自分だけが確認）
- 本番: 一般公開（誰でもアクセス可能）

---

## もっと詳しく知りたい

- 📱 [MOBILE_DEV.md](../MOBILE_DEV.md) - 完全ガイド
- 🚀 [QUICKSTART.md](../QUICKSTART.md) - 初心者向けチュートリアル
- 📖 [README.md](../README.md) - プロジェクト概要
- 🔧 [CLAUDE.md](../CLAUDE.md) - 技術仕様

---

## 楽しいモバイル開発を！🎉
